	assume	adl=1

	section	.text

	public	__lsubs_sat

__lsubs_sat:
	; signed saturated subtraction
	; E:UHL = E:UHL - A:UBC
	call	__lsubs_overflow
	ret	po
	sla	e
	sbc	hl, hl
	ld	e, $80
	ret	nc
	dec	e
	ret

	extern	__lsubs_overflow
